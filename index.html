<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rock Paper Scissors</title>
</head>
<body>
    
</body>
<script>

    //The function below makes the machine generate a random number and tranforms this number into a string. 0 becomes Rock, 1 becomes Paper and 2 becomes Scissors
    function computerPlay(){
        let play = Math.floor(Math.random() * 3);
        if (play === 0){
            return 'Rock'
        } else if (play === 1){
            return 'Paper'
        } else{
            return 'Scissors'
        }
    }

    //The function below put the guesses of the two challengers to collide and returns a number accordingly to the result fo the round. Zero for tie, one for victory of the player and two for the victory of the machine.
    function playRound(playerSelection, computerSelection){
        if (playerSelection === 'Rock'){
            if (computerSelection === 'Rock'){
                return 0
            } else if (computerSelection === 'Scissors'){
                return 1
            } else if (computerSelection === 'Paper'){
                return 2
            }
        }

        if (playerSelection === 'Paper'){
            if (computerSelection === 'Paper'){
                return 0
            } else if (computerSelection === 'Rock'){
                return 1
            } else if (computerSelection === 'Scissors'){
                return 2
            }
        }

        if (playerSelection === 'Scissors'){
            if (computerSelection === 'Scissors'){
                return 0
            } else if (computerSelection === 'Paper'){
                return 1
            } else if (computerSelection === 'Rock'){
                return 2
            }
        }
    }

    function game(){
        alert('Let\'s play Rock Paper Scissors against the MACHINE! Good Luck!')
        let playerCount = 0;
        let computerCount = 0;
        for (let i = 0; i < 5; i++){
            const choice = prompt('Choose your weapon wisely: Rock, Paper or Scissors?')
            const playerSelection = choice.charAt(0).toUpperCase() + choice.slice(1).toLowerCase();
            const computerSelection = computerPlay();
            let result = playRound(playerSelection, computerSelection);
            if (result === 0){
                alert(`That's a Tie! [You] ${playerSelection} -VS- ${computerSelection} [The MACHINE]`)
                console.log(`That's a Tie! [You] ${playerSelection} -VS- ${computerSelection} [The MACHINE]`)
            } else if (result === 1){
                alert(`You WIN! [You] **${playerSelection}** -VS- ${computerSelection} [The MACHINE]`)
                console.log(`You WIN! [You] **${playerSelection}** -VS- ${computerSelection} [The MACHINE]`)
                playerCount += 1;
            } else if (result === 2){
                alert(`You LOSE! [You] ${playerSelection} -VS- **${computerSelection}** [The MACHINE]`)
                console.log(`You LOSE! [You] ${playerSelection} -VS- **${computerSelection}** [The MACHINE]`)
                computerCount += 1;
            }

        alert(`You ${playerCount} x ${computerCount} the MACHINE`)

        }

        console.log('You made', playerCount, 'point(s).');
        console.log('The MACHINE made', computerCount, 'point(s).');

        alert(`You made ${playerCount} point(s). The MACHINE made ${computerCount} point(s)`)

        if (playerCount > computerCount){
            alert('You WON the whole thing! Congratulations!')
            console.log('You WON the whole thing! Congratulations!');
        } else if (playerCount < computerCount){
            alert('You LOST the whole thing! Better luck next time.')
            console.log('You LOST the whole thing! Better luck next time.')
        } else{
            alert('You and the Machine have TIED. Now it\'s time for punches. Get your gloves!')
            console.log('You and the Machine have TIED. Now it\'s time for punches. Get your gloves!')
        }
    }
    
    game();
</script>
</html>